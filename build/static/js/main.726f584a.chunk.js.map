{"version":3,"sources":["spotify.js","Login.js","DataLayer.js","Header.js","SongRow.js","Body.js","Footer.js","SidebarOption.js","Sidebar.js","Player.js","App.js","reducer.js","index.js"],"names":["loginUrl","join","Login","className","src","alt","href","DataLayerContext","createContext","DataLayer","initialState","reducer","children","Provider","value","useReducer","useDataLayerValue","useContext","Header","user","token","placeholder","type","Avatar","images","url","display_name","SongRow","track","album","name","artists","map","Body","spotify","discover_weekly","description","fontSize","tracks","items","item","Footer","Grid","container","spacing","xs","Slider","aria-labelledby","SidebarOption","title","Icon","Sidebar","playlists","HomeIcon","SearchIcon","LibraryMusicIcon","playlist","Player","SpotifyWebApi","App","dispatch","useEffect","hash","window","location","substring","split","reduce","initial","parts","decodeURIComponent","_token","access_token","setAccessToken","getMe","then","catch","err","console","log","getUserPlaylists","getPlaylist","res","state","action","ReactDOM","render","playing","document","querySelector"],"mappings":"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","file":"static/js/main.726f584a.chunk.js","sourcesContent":["// spotify login logic\n\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\n\nconst redirectUri = \"https://spotify-clone-b1476.web.app/\";\n\nconst clientId = \"bdd96d5d43284fbeacf17b9b84fb5930\";\n\n// spotify scopes\nconst scopes = [\n    \"user-read-currently-playing\", \n    \"user-read-recently-played\", \n    \"user-read-playback-state\",\n    \"user-top-read\",\n    \"user-modify-playback-state\"\n];\n\n// main url\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`;\n\n// get the access token after login\n// Example token received: http://localhost:3000/#access_token=BQC7BGmTPVHkBdDRCG80or2Fp8zu2V__DPBu4veAuqyLxFDLX6JDxpTAF9jtP73uAIjoYvGuz7ZAjhV0Z5LAohll0oYj-MxAjeap8SfAxmh56QA0hoMyQXc4V9LF6rMG24Yh4WB7lIYY-Z1vbflUdn2yzni1AdMqwPv0mIGdipvjldKavTWPxriZ&token_type=Bearer&expires_in=3600\nexport const getTokenFromUrl = () => {\n    return window.location.hash.substring(1).split('&').reduce((initial, item) => {\n        let parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]); \n\n        return initial;\n    }, {});\n};","import React from 'react';\nimport './login.css';\nimport { loginUrl } from './spotify';\n\nconst Login = () => {\n    return (\n        <div className=\"login\">\n            {/* Spotify Logo */}\n            <img src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\" alt=\"spotify logo\" />\n            \n            {/* Login button */}\n            <a href={loginUrl}>LOGIN WITH SPOTIFY</a>\n        </div>\n    )\n};\n\nexport default Login;","import React, { createContext, useContext, useReducer} from 'react';\n\n\nexport const DataLayerContext = createContext();\n\nexport const DataLayer = ({ initialState, reducer, children }) => (\n    <DataLayerContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </DataLayerContext.Provider>\n);\n\nexport const useDataLayerValue = () => useContext(DataLayerContext);","import { Avatar } from '@material-ui/core';\nimport React from 'react';\nimport './header.css';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useDataLayerValue } from './DataLayer';\n\nconst Header = () => {\n    const [{ user, token }, dispatch] = useDataLayerValue();\n\n    return (\n        <div className=\"header\">\n            <div className=\"header__left\">\n                <SearchIcon />\n                <input placeholder=\"Search for Artists, Songs or Podcasts\" type=\"text\"></input>\n            </div>\n\n            <div className=\"header__right\">\n                <Avatar src={user?.images[0]?.url} alt=\"user icon\" />\n                <h4>{user?.display_name}</h4>\n            </div>\n        </div>\n    )\n}\n\nexport default Header;\n","import React from 'react';\nimport './songRow.css';\n\nconst SongRow = ({ track = \"text\" }) => {\n    return (\n        <div className=\"songRow\">\n            <img className=\"songRow__album\" src={track.album.images[0].url} alt=\"songs\"></img>\n            <div className=\"songRow__info\">\n                <h1>{track.name}</h1>\n                <p>{track.artists.map((artists) => artists.name).join(\", \")}</p>\n                {track.album.name}\n            </div>\n        </div>\n    )\n}\n\nexport default SongRow;\n","import React from 'react'\nimport './body.css';\nimport Header from './Header';\nimport { useDataLayerValue } from './DataLayer'; \nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport SongRow from './SongRow';\n\nconst Body = ({spotify}) => {\n\n    const [{ discover_weekly }, dispatch] = useDataLayerValue();\n\n    return (\n        <div className=\"body\">\n            <Header spotify={spotify}/>\n\n            <div className=\"body__info\">\n                <img src={discover_weekly?.images[0].url} alt=\"weekly icon\" />\n\n                <div className=\"body__infoText\">\n                    <strong>PLAYLIST</strong>\n                    <h2>Discover Weekly</h2>\n                    <p>{discover_weekly?.description}</p>\n                </div>\n            </div>\n\n            <div className=\"body__songs\">\n                <div className=\"body__icons\">\n                    <PlayCircleFilledIcon className=\"body__shuffle\"/>\n                    <FavoriteIcon fontSize=\"large\"/>\n                    <MoreHorizIcon />\n                </div>\n                {/* List of songs */}\n                {discover_weekly?.tracks.items.map((item) => (<SongRow track={item.track} ></SongRow>) )}\n            </div>\n        </div>\n    )\n}\n\nexport default Body\n","import React from 'react'\nimport './footer.css';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport PlaylistPlayIcon from '@material-ui/icons/PlaylistPlay';\nimport VolumeDownIcon from '@material-ui/icons/VolumeDown';\nimport RepeatIcon from '@material-ui/icons/Repeat';\nimport { Grid, Slider } from '@material-ui/core';\n\nconst Footer = () => {\n    return (\n        <div className=\"footer\">\n            <div className=\"footer__left\">\n                <img src=\"https://community.spotify.com/t5/image/serverpage/image-id/55829iC2AD64ADB887E2A5/image-size/large?v=v2&px=999\" alt=\"album cover\" className=\"footer__albumLogo\"/>\n                <div className=\"footer__songInfo\">\n                    <h4>Yeah!</h4>\n                    <p>Usher</p>\n                </div>                \n            </div>\n\n            <div className=\"footer__center\">\n                <ShuffleIcon className=\"footer__green\" />\n                <SkipPreviousIcon className=\"footer__icon\" />\n                <PlayCircleOutlineIcon fontSize=\"large\" className=\"footer__icon\" />\n                <SkipNextIcon className=\"footer__icon\" />\n                <RepeatIcon className=\"footer__icon footer__green \" />\n            </div>\n\n            <div className=\"footer__right\">\n                <Grid container spacing={2}>\n                    <Grid item>\n                        <PlaylistPlayIcon />\n                    </Grid>\n                    <Grid item>\n                        <VolumeDownIcon />\n                    </Grid>\n                    <Grid item xs>\n                        <Slider aria-labelledby=\"continuous-slider\" />\n                    </Grid>\n                </Grid>\n            </div>\n        </div>\n    )\n}\n\nexport default Footer;","import React from 'react'\nimport './sidebarOption.css';\n\nconst SidebarOption = ({ title, Icon }) => {\n    return (\n        <div className=\"sidebarOption\">\n            {Icon && <Icon className=\"sidebarOption__icon\"></Icon>}\n            {Icon ? <h4>{title}</h4> : <p>{title}</p>}\n            \n        </div>\n    )\n}\n\nexport default SidebarOption;\n","import React from 'react'\nimport './sidebar.css';\nimport SidebarOption from './SidebarOption';\nimport HomeIcon from '@material-ui/icons/Home';\nimport SearchIcon from '@material-ui/icons/Search';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport { useDataLayerValue } from './DataLayer';\n\nconst Sidebar = () => {\n\n    // pull playlists from the datalayer\n    const [{playlists}, dispatch] = useDataLayerValue();\n\n    return (\n        <div className='sidebar'>\n            <img src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\" alt=\"spotify logo\" />\n            <SidebarOption title=\"Home\" Icon={HomeIcon}/>\n            \n            <SidebarOption title=\"Search\" Icon={SearchIcon}/>\n\n            <SidebarOption title=\"Your Library\" Icon={LibraryMusicIcon}/>\n            <br/>\n            <strong className=\"sidebar__title\">PLAYLISTS</strong>\n            <hr/>\n            {playlists?.items?.map((playlist) => (<SidebarOption title={playlist.name} />))}\n            \n        </div>\n    )\n}\n\nexport default Sidebar\n","import React from 'react';\nimport Body from './Body';\nimport Footer from './Footer';\nimport './player.css';\nimport Sidebar from './Sidebar';\n\nconst Player = ({ spotify }) => {\n    return (\n        <div className=\"player\">\n            <div className=\"player__body\">\n                {/* Sidebar */}\n                <Sidebar />\n                {/* Body */}\n                <Body spotify={spotify}/>\n            </div>\n            {/* Footer */}\n            <Footer />\n        </div>\n    )\n}\n\nexport default Player;\n","import React, { useEffect, useState } from 'react'\nimport Login from './Login';\nimport './App.css';\nimport { getTokenFromUrl } from './spotify';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport Player from './Player';\nimport { useDataLayerValue } from './DataLayer'; \n\n// spotify wrapper \nconst spotify = new SpotifyWebApi();\n\nconst App = () => {\n\n    // const [token, setToken] = useState('');\n    const [{ user, token }, dispatch] = useDataLayerValue();\n\n    // use the accesstoken from spotify.js\n    useEffect(()=> {\n        const hash = getTokenFromUrl();\n        window.location.hash = \"\";\n\n        const _token = hash.access_token;\n\n        if(_token) {\n            dispatch({\n                type: 'SET_TOKEN', \n                token: _token\n            })\n            spotify.setAccessToken(_token);\n            spotify.getMe()\n            .then((user) => {\n                // console.log(user);\n                dispatch({\n                    type: 'SET_USER', \n                    user: user\n                })\n            })\n            .catch((err) => {\n                console.log(\"Some error occured!\", err);\n            });\n\n            spotify.getUserPlaylists()\n            .then((playlists) => {\n                console.log(playlists);\n                dispatch({\n                    type: 'SET_PLAYLISTS',\n                    playlists: playlists\n                })\n            })\n\n            spotify.getPlaylist('0bD81Rwh7oWKLoDsIHU5Bc')\n            .then((res) => {\n                dispatch({\n                    type: 'SET_DISCOVER_WEEKLY', \n                    discover_weekly: res\n                })\n            })\n            .catch(() => {\n\n            })\n        }\n\n        // console.log(\"Your token:\", _token);\n    }, []);\n\n    console.log(\"DataLayer user\", user);\n    console.log(\"Token\", token);\n\n    return (\n        <div className=\"app\">\n            {\n                token ? (\n                   <Player spotify={spotify}/>\n                ) : ( \n                    <Login />\n                ) \n            }\n        </div>\n    )\n}\n\nexport default App;\n","export const initialState = {\n    user: null, \n    playlists: [], \n    playing: false,\n    item: null, \n    token: null\n    // token: 'BQBH0OW-rkowFJEPLNRvuFV3_nyqrQUGLLHCeISBkzSoHiN9ci9aM60JxxChVXzsBP0kuvrk7j3za4N69qla52igtysHUoI2AX3ec9ZU7DfTLOBElFaVD9xdY4dG7pW_EaG_Wkm1XLDvJYDrnSdB96tpoVZ55C9MIMf4XN_Uh8eHLZkmN_wXuR7U'\n};\n\nconst reducer = (state, action) => {\n    console.log(action);\n\n    switch(action.type) {\n        case 'SET_USER':\n            return {\n                ...state, \n                user: action.user\n            }\n        case 'SET_TOKEN':\n            return {\n                ...state, \n                token: action.token\n            }\n        case 'SET_PLAYLISTS':\n            return {\n                ...state, \n                playlists: action.playlists\n            }\n        case 'SET_DISCOVER_WEEKLY':\n            return {\n                ...state, \n                discover_weekly: action.discover_weekly\n            }\n        default:\n            return state;\n\n    }\n};\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport { DataLayer } from './DataLayer';\nimport reducer, { initialState } from './reducer';\n\nReactDOM.render(\n    <DataLayer initialState={initialState} reducer={reducer}>\n        <App />\n    </DataLayer>\n    ,\n    document.querySelector('#root')\n);"],"sourceRoot":""}